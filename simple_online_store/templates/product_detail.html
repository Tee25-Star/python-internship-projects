{% extends "layout.html" %}

{% block title %}Aurora Store � {{ product.name }}{% endblock %}

{% block content %}
<section class="grid gap-8 lg:grid-cols-[minmax(0,1.2fr)_minmax(0,1.2fr)]">
    <!-- Gallery -->
    <div class="relative overflow-hidden rounded-3xl border border-white/10 bg-slate-900/70 shadow-2xl shadow-black/40">
        <div class="absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-slate-950/70 via-transparent to-transparent"></div>
        <img src="{{ product.image_url }}" alt="{{ product.name }}" class="h-80 w-full object-cover sm:h-96">
        {% if product.badge %}
            <div class="absolute left-4 top-4 rounded-full bg-black/40 px-3 py-1 text-xs font-semibold uppercase tracking-[0.18em] text-aurora-100 backdrop-blur">
                {{ product.badge }}
            </div>
        {% endif %}
        <div class="absolute right-4 top-4 rounded-full bg-slate-900/70 px-3 py-1 text-xs text-slate-200 backdrop-blur">
            {{ product.category }}
        </div>
        <div class="pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(129,140,248,0.16),_transparent_55%),radial-gradient(circle_at_bottom,_rgba(244,114,182,0.16),_transparent_55%)] mix-blend-screen"></div>
    </div>

    <!-- Details -->
    <div class="space-y-6">
        <div class="space-y-2">
            <button type="button" onclick="window.history.back()" class="inline-flex items-center gap-1 rounded-full border border-white/10 bg-slate-900/60 px-3 py-1 text-[0.7rem] font-medium text-slate-300 transition hover:border-aurora-500/60 hover:text-aurora-100">
                ? Back
            </button>
            <h1 class="text-2xl font-semibold tracking-tight text-slate-50 sm:text-3xl">
                {{ product.name }}
            </h1>
            <p class="max-w-xl text-sm text-slate-300">
                {{ product.description }}
            </p>
        </div>

        <div class="flex flex-wrap items-center gap-4">
            <div>
                <p class="text-xs text-slate-400">Price</p>
                <p class="text-2xl font-semibold text-aurora-100">
                    ${{ '%.2f'|format(product.price) }}
                </p>
            </div>
            <div class="rounded-2xl border border-emerald-500/30 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100">
                <p class="font-semibold">In stock � Ships in 24h</p>
                <p>Demo-only: no real payment required.</p>
            </div>
        </div>

        <form method="post" action="{{ url_for('add_to_cart') }}" class="space-y-4 rounded-2xl border border-white/10 bg-slate-950/60 p-4">
            <input type="hidden" name="product_id" value="{{ product.id }}">
            <input type="hidden" name="redirect_to" value="{{ url_for('product_detail', product_id=product.id) }}">

            <div class="flex flex-wrap items-end gap-4">
                <div>
                    <label for="quantity" class="block text-xs font-medium text-slate-300">Quantity</label>
                    <input id="quantity" name="quantity" type="number" min="1" value="1" class="mt-1 w-24 rounded-xl border border-white/10 bg-slate-900/80 px-3 py-1.5 text-sm text-slate-50 outline-none ring-aurora-500/40 focus:ring">
                </div>
                <button type="submit" class="inline-flex items-center justify-center rounded-xl bg-aurora-500 px-4 py-2 text-sm font-semibold text-slate-50 shadow-lg shadow-aurora-500/40 transition hover:-translate-y-0.5 hover:bg-aurora-600">
                    Add to cart
                </button>
                <a href="{{ url_for('view_cart') }}" class="text-xs font-medium text-slate-300 underline-offset-2 hover:text-aurora-100 hover:underline">
                    View cart ({{ cart_item_count }})
                </a>
            </div>

            <div class="grid gap-3 text-xs text-slate-300 sm:grid-cols-3">
                <div class="highlight-pill">
                    <span class="highlight-dot bg-emerald-400"></span>
                    <div>
                        <p class="font-semibold text-slate-50">Free returns</p>
                        <p>30-day hassle-free returns (demo).</p>
                    </div>
                </div>
                <div class="highlight-pill">
                    <span class="highlight-dot bg-sky-400"></span>
                    <div>
                        <p class="font-semibold text-slate-50">Secure checkout</p>
                        <p>Form-only, no real charges.</p>
                    </div>
                </div>
                <div class="highlight-pill">
                    <span class="highlight-dot bg-fuchsia-400"></span>
                    <div>
                        <p class="font-semibold text-slate-50">Responsive</p>
                        <p>Looks great on desktop &amp; mobile.</p>
                    </div>
                </div>
            </div>
        </form>
    </div>
</section>
{% endblock %}


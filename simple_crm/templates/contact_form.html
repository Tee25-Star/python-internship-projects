{% extends "base.html" %}
{% block title %}{{ 'Edit' if contact else 'Add' }} Contact — Simple CRM{% endblock %}
{% block content %}
<div class="page-header">
  <div>
    <h1>{{ 'Edit contact' if contact else 'Add contact' }}</h1>
    <p class="page-desc">{{ 'Update contact details.' if contact else 'Create a new contact and optionally link to a company.' }}</p>
  </div>
  <a href="{{ url_for('contacts_list') }}" class="btn btn-ghost">Back to contacts</a>
</div>

<div class="card" style="max-width: 560px;">
  <div style="padding: 1.5rem 1.25rem;">
    <form method="post">
      <div class="form-group">
        <label for="name">Full name *</label>
        <input type="text" id="name" name="name" required value="{{ contact.name if contact else '' }}" placeholder="Jane Smith">
      </div>
      <div class="form-group">
        <label for="company_id">Company</label>
        <select id="company_id" name="company_id">
          <option value="">— No company —</option>
          {% for co in companies %}
          <option value="{{ co.id }}" {{ 'selected' if contact and contact.company_id == co.id else '' }}>{{ co.name }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" value="{{ contact.email if contact else '' }}" placeholder="jane@example.com">
      </div>
      <div class="form-group">
        <label for="phone">Phone</label>
        <input type="text" id="phone" name="phone" value="{{ contact.phone if contact else '' }}" placeholder="+1 234 567 8900">
      </div>
      <div class="form-group">
        <label for="role">Role / job title</label>
        <input type="text" id="role" name="role" value="{{ contact.role if contact else '' }}" placeholder="e.g. Sales Manager">
      </div>
      <div class="form-group">
        <label for="notes">Notes</label>
        <textarea id="notes" name="notes" placeholder="Private notes…">{{ contact.notes if contact else '' }}</textarea>
      </div>
      <div class="form-actions">
        <button type="submit" class="btn btn-primary">{{ 'Save changes' if contact else 'Add contact' }}</button>
        <a href="{{ url_for('contacts_list') }}" class="btn btn-ghost">Cancel</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
